#query returns a basic set of collection time and insect information from AEC database. This query is presently limited to North America by CountryUIDs, does not include host subspecies.
#mysql -u root pbi_locality < oaks.sql -p > host_insect_data_oak.txt


Select distinct T5.TaxName as FamilyName, T4.TaxName as Subfamily, T3.TaxName as Tribe, TaxonReplace(T1.TaxName, T1.TaxLevel) as Genus, TaxonReplace(T2.TaxName, T2.TaxLevel) as Species, F4.HostTaxName as HostFamily, HostReplace(F1.HostTaxName,F1.HostTaxLevel) as HostGenus, HostReplace(F2.HostTaxName,F2.HostTaxLevel) as HostSpecies, HC.CommonName as HostCommonName FROM Specimen S1 left join MNL T1  ON S1.Genus = T1.MNLUID
left join MNL T2  ON S1.Species = T2.MNLUID left join MNL T3 ON S1.Tribe=T3.MNLUID left join MNL T4 on S1.Subfamily=T4.MNLUID left join MNL T5 on T4.ParentID=T5.MNLUID left join Locality L1 on S1.Locality=L1.LocalityUID left join Flora_MNL F1 ON S1.HostG=F1.HostMNLUID left join Flora_MNL F2 ON S1.HostSp=F2.HostMNLUID left join Flora_MNL F3 ON S1.HostSSp=F3.HostMNLUID left join Flora_MNL F4 ON S1.HostF=F4.HostMNLUID left join SubDiv SD on L1.SubDivUID=SD.SubDivUID left join StateProv SP on SD.StateProvUID=SP.StateProvUID left join colevent CE on S1.ColEventUID=CE.ColEventUID left join Collector C1 on CE.Collector=C1.CollectorUID left join Country CN on SP.CountryUID=CN.UID left join HostCommonName HC on S1.HostCName=HC.CommonUID where F4.HostTaxName!='Unknown' and S1.Insect_ID=1 and (SP.CountryUID='8' OR SP.CountryUID='11' OR SP.CountryUID='2') and (HC.CommonName like '%oak%' or F1.HostTaxName='Quercus');